{% extends 'base.html.twig' %}
{% block title %}{{ parent() }} | Home{% endblock %}

{% block body %}
    <h1 class="mt-3 mb-3 ">Filtrer les sorties</h1><br>

<form>
    {{ form_start(filterForm) }}


    {{ form_row(filterForm.selectedCampus) }}
    {{ form_row(filterForm.selectedWords) }}
    {{ form_row(filterForm.selectedStartDate) }}
    {{ form_row(filterForm.selectedEndDate) }}
    {{ form_row(filterForm.isOrganizer) }}
    {{ form_row(filterForm.isRegistred) }}
    {{ form_row(filterForm.isNotRegistred) }}
    {{ form_row(filterForm.isFinished) }}
    <button type="submit" class="btn btn-primary">Rechercher</button>
    {{ form_end(filterForm) }}
</form>

        <h1 class="mt-3 mb-3 ">Liste des sorties</h1><br>

        <div class="row justify-content-around">
            {% for excursion in excursions %}

                <div class="card border-warning mb-3 col-sm-6 col-md-5 col-lg-6 " style="max-width: 20rem;"
                     bis_skin_checked="1">
                    <div class="card-header" bis_skin_checked="1"><a href="{{ path('excursion_details', {'id': excursion.id}) }}"><h3>{{ excursion.name }}</h3>  </a></div>
                    <div class="card-body" bis_skin_checked="1">
                        <h5 class="card-title">Le {{ excursion.startDate | date('d M Y') }}
                            Ã  {{ excursion.startDate | date('H:i') }}. </h5>
                        <p class="card-text"> Description : {{ excursion.description }}</p>
                        <p class="card-text">Date limite d'inscription
                            : {{ excursion.limitRegistrationDate | date('d/m/Y') }}</p>
                        <p> {{ excursion.campus.name }}</p>
                        {% if app.user == excursion.organizer or is_granted('ROLE_ADMIN') %}
                        <a href="{{ path('excursion_update', {'id': excursion.id}) }}" class="badge rounded-pill bg-warning">Modifier</a>
                        <a href="{{ path('excursion_delete', {'id': excursion.id}) }}" class="badge rounded-pill bg-danger">Supprimer</a>
                        {% endif %}
                    </div>
                </div>

            {% else %}
                <tr>
                    <td colspan="5">Aucune sortie dans la base</td>
                </tr>
            {% endfor %}
        </div>


{% endblock %}

