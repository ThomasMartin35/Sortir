{% extends 'base.html.twig' %}

{% block title %}{{ parent() }} | Excursion Details{% endblock %}


{% block body %}
    <h1>Détails de la sortie</h1>

    <div class="detailsContainer">
    <div class="detailsColumn">
    <p>Nom de la sortie : {{ excursion.name }} </p>
    <p>Date et heure de la sortie : {{ excursion.startDate | date('d M Y') }} à {{ excursion.startDate | date('H:i') }}</p>
    <p>Date limite d'inscription : {{ excursion.limitRegistrationDate | date('d M Y') }}</p>
    <p>Nombre de place : {{ excursion.maxRegistrationNumber }}</p>
    <p>Durée : {{ excursion.duration }} minutes</p>
        <p class="{% if excursion.state.caption == 'Canceled' %}red-text{% endif %}">Descriptions et infos : {{ excursion.description }}</p>


        {% if excursion.state.caption == 'Canceled' and excursion.reason is defined and excursion.reason is not empty %}
            <p class="red-text">Motif : {{ excursion.reason }}</p>
        {% endif %}

    </div>
    <div class="detailsColumn">
    <p>Campus : {{ excursion.campus.name }}</p>
    <p>Lieu : {{ excursion.place.name}} </p>
    <p>Rue : {{ excursion.place.street }}</p>
    <p>Code postal : {{ excursion.place.city.postcode }}</p>
    <p>latitude : {{ excursion.place.latitude }}</p>
    <p>longitude : {{ excursion.place.longitude }}</p>


    </div>
    </div>


    {% if is_granted('EXCURSION_EDIT_PUBLISH', excursion) %}
        <a href="{{ path('excursion_update', {'id': excursion.id}) }}" class="btn btn-warning">Modifier</a>
        <a href="{{ path('excursion_delete', {'id': excursion.id}) }}" class="btn btn-danger">Supprimer</a>
    {% endif %}

        {% if is_granted('EXCURSION_VIEW_CANCEL', excursion) %}
            <a href="{{ path('excursion_delete', {'id': excursion.id}) }}" class="btn btn-danger">Annuler</a>
        {% endif %}




    <h2>Liste des participants</h2>


{#    Le tableau des participants est à completer !#}
{#    <table class="table table-hover">#}
{#        <thead>#}
{#        <tr>#}
{#            <th scope="col">Pseudo</th>#}
{#            <th scope="col">Nom</th>#}
{#        </tr>#}
{#        </thead>#}
{#        <tbody>#}
{#        <tr class="table-light">#}
{#            <th scope="row"> {{  }}</th>#}
{#            <td>Column content</td>#}
{#            <td>Column content</td>#}
{#            <td>Column content</td>#}
{#        </tr>#}
{#        </tbody>#}
{#    </table>#}

{% endblock %}